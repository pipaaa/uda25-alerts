<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Demo OneSignal Suscripción Manual</title>
<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
<style>
  body { font-family: Arial, sans-serif; padding: 2rem; background: #121212; color: white; }
  button { padding: 1rem 2rem; font-size: 1.2rem; cursor: pointer; border: none; background: #ff7300; color: white; border-radius: 8px; }
  button:hover { background: #f5af19; }
</style>
</head>
<body>

<h1>Demo OneSignal: Suscripción Manual</h1>

<button id="subscribeBtn">Suscribirse a Notificaciones</button>

<script>
  window.OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "81b3954b-c424-4ef6-ae89-f69f05109ecb",
      allowLocalhostAsSecureOrigin: true, // Solo para desarrollo local
    });
  });

  const subscribeBtn = document.getElementById("subscribeBtn");

  subscribeBtn.addEventListener("click", async () => {
    const permission = await OneSignal.isPushNotificationsEnabled();
    if (permission) {
      alert("¡Ya estás suscrito!");
      return;
    }

    OneSignal.push(function() {
      OneSignal.registerForPushNotifications({
        modalPrompt: true
      });
    });
  });
</script>

</body>
</html>
